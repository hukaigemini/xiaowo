# F-003: 房间页面基础UI开发 - 任务指令

## 📋 任务概述

**任务ID**: F-003  
**任务名称**: 房间页面基础UI开发  
**负责人**: 🎨 阿码  
**工时**: 4小时  
**优先级**: P0  
**预计开始**: Day 3  
**任务类型**: 前端UI开发

---

## 🎯 任务目标

**严格基于现有模板开发**：将 `/Users/hukai/Documents/trae_projects/xiaowo/frontend/templates/warm/room.html` 模板文件转换为Vue组件，实现功能完整的多人同步观影房间页面。

**⚠️ 重要要求**：必须1比1遵照现有模板的设计风格、布局结构、交互逻辑和视觉效果，确保100%还原模板的用户体验。

---

## 📋 具体开发要求

### 🔥 核心要求：模板1比1还原

**必须严格基于模板文件开发**：`/Users/hukai/Documents/trae_projects/xiaowo/frontend/templates/warm/room.html`

1. **完整模板分析**：
   - 仔细阅读整个room.html模板文件
   - 分析所有UI组件、样式、交互逻辑
   - 确保不遗漏任何细节元素

2. **1比1转换要求**：
   - **视觉风格**：100%还原模板的色彩方案、字体、圆角、阴影效果
   - **布局结构**：完全按照模板的div结构和CSS类名实现
   - **交互逻辑**：所有hover效果、动画、点击事件都要保持一致
   - **组件功能**：所有按钮、下拉菜单、输入框等功能完全实现

### 🎯 模板核心功能实现

基于room.html模板，实现以下核心功能：

1. **顶部栏 (Top Bar)**：
   - 退出按钮（左上角）
   - 房间信息显示（房间号、状态、邀请链接）
   - 成员头像列表（右上角）

2. **视频播放器区域**：
   - 空白状态：显示"窝窝·待映厅"输入界面
   - ArtPlayer播放器集成（已配置好的播放器）
   - 播放控制栏的完整实现

3. **新手引导弹窗**：
   - 首次进入房间的引导界面
   - 包含使用说明和操作步骤

4. **Toast通知系统**：
   - 播放状态变化通知
   - 同步状态提示

5. **视频链接输入功能**：
   - URL输入框验证
   - "熄灯，开始放映"按钮
   - 快速测试源选择

---

## 🔗 API集成要求

### 与后盾协作开发API
请与后盾同时协作开发以下API接口：

1. **房间信息API**：
   - GET `/api/v1/rooms/:roomId` - 获取房间详情
   - PUT `/api/v1/rooms/:roomId` - 更新房间信息

2. **成员管理API**：
   - GET `/api/v1/rooms/:roomId/members` - 获取房间成员列表
   - POST `/api/v1/rooms/:roomId/join` - 加入房间
   - DELETE `/api/v1/rooms/:roomId/leave` - 离开房间

3. **播放状态API**：
   - POST `/api/v1/rooms/:roomId/play` - 同步播放状态
   - POST `/api/v1/rooms/:roomId/pause` - 同步暂停状态
   - POST `/api/v1/rooms/:roomId/seek` - 同步跳转

### 🎬 播放器集成要求

**严格按照模板配置实现**：
- 使用**ArtPlayer**播放器（模板中已集成）
- 保持模板中的播放器配置和样式
- 确保播放器控制栏的1比1还原
- 集成HLS.js支持（模板中已配置）

---

## 🎨 设计规范

### 视觉风格
- **保持与HomeView.vue一致的设计语言**：
  - 使用相同的色彩方案（primary, secondary, surface等）
  - 圆角设计（rounded-4xl, rounded-2xl等）
  - 柔和的阴影效果（shadow-card）
  - 渐变装饰元素

### 组件风格
- **卡片式设计**：信息展示区域使用卡片布局
- **微交互**：hover效果、加载动画、状态切换动画
- **图标使用**：使用Heroicons或Lucide图标库
- **色彩语义**：
  - 绿色：在线/正常状态
  - 红色：离开/错误状态
  - 蓝色：房主/重要操作
  - 灰色：次要信息

---

## 📱 用户体验要求

### 核心交互流程
1. **进入房间** → 显示房间信息和成员列表
2. **视频播放** → 实时同步播放状态给所有成员
3. **成员管理** → 房主可以管理房间成员
4. **退出房间** → 优雅的退出确认和跳转

### 加载状态处理
- 骨架屏加载效果
- API请求loading状态
- 错误状态友好提示
- 网络异常处理

### 性能优化
- 组件懒加载
- 图片懒加载
- 虚拟滚动（如果成员较多）
- 防抖处理（播放控制同步）

---

## ✅ 验收标准

### 功能验收
- [ ] 房间信息正确显示和编辑
- [ ] 成员列表实时更新
- [ ] 播放控制与后端同步
- [ ] 移动端响应式适配完善
- [ ] 房主权限控制正常

### 质量验收
- [ ] 代码通过ESLint检查
- [ ] TypeScript类型检查通过
- [ ] 响应式设计在各种屏幕尺寸下正常
- [ ] 无控制台错误或警告
- [ ] 加载性能良好（首屏<2s）

### 用户体验验收
- [ ] 界面美观，与设计风格一致
- [ ] 交互流畅，无明显卡顿
- [ ] 错误处理友好
- [ ] 移动端操作便捷

---

## 🚀 开发建议

### 技术要点
1. **状态管理**：使用Pinia管理房间状态、播放状态、成员列表
2. **WebSocket集成**：为后续实时同步功能预留接口
3. **组件拆分**：将复杂功能拆分为独立组件
4. **类型定义**：为所有数据结构定义TypeScript接口

### 开发顺序建议
1. 先完善RoomLayout布局结构
2. 开发房间信息组件
3. 实现成员列表组件
4. 优化播放控制栏
5. 完善响应式适配
6. 集成后端API

### 注意事项
- 保持与现有代码风格一致
- 优先考虑移动端体验
- 为实时同步功能预留接口
- 注意错误边界处理

---

## 📞 协作要求

### 与后盾协作
- 提前确认API接口设计
- 协调开发进度，确保前后端同步
- 及时沟通技术实现方案

### 与团队协作
- 遇到技术难题及时寻求帮助
- 定期同步开发进度
- 保持代码评审和知识分享

---

**任务开始时间**: Day 3 09:00  
**预计完成时间**: Day 3 13:00  
**交付标准**: 功能完整、体验优秀的房间页面，支持多人同步观影的核心UI

祝开发顺利！🎉