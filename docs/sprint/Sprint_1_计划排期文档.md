# 小窝项目 Sprint 1 计划排期文档

## 文档信息
- **项目名称**: 小窝同步观影平台  
- **Sprint周期**: 2周 (10个工作日)
- **文档版本**: v1.0
- **创建日期**: 2025-12-30
- **文档状态**: Phase 2: 计划排期工作流完成

---

## 📊 执行摘要

基于PRD文档和技术架构设计的深入分析，完成了小窝项目的完整WBS任务拆解和Sprint计划。采用敏捷开发方法，将核心功能拆解为20个具体任务，颗粒度控制在2-4小时，确保MVP阶段快速迭代和高质量交付。

**核心目标**: MVP核心功能实现，支持1-7人同步观影
**技术栈**: Go后端 + Vue3前端 + SQLite + WebSocket
**团队配置**: 老架(架构) + 后盾(后端) + 阿码(前端) + 优优(设计) + 管家(PM)

---

## 🎯 WBS任务拆解总览

| 任务ID | User Story | 负责人 | 预估工时 | 优先级 | 依赖关系 | 验收标准 |
|:------|:----------|:------|:--------|:-------|:--------|:--------|
| **F-001** | 项目初始化和基础架构搭建 | 🏗️ 老架 | 4h | P0 | - | Go项目结构+Vue3项目配置完成 |
| **B-001** | 数据库设计实现和初始化脚本 | 🛡️ 后盾 | 3h | P0 | - | SQLite DDL执行+基础数据表创建 |
| **B-002** | 用户会话管理模块开发 | 🛡️ 后盾 | 3h | P0 | B-001 | 临时昵称生成+Session创建/管理 |
| **B-003** | 房间管理核心API开发 | 🛡️ 后盾 | 4h | P0 | B-001 | 房间创建/查询/加入/离开API |
| **F-002** | 首页UI开发和基础路由 | 🎨 阿码 | 3h | P0 | F-001 | 首页布局+创建房间按钮+响应式设计 |
| **B-004** | WebSocket Hub基础框架 | 🛡️ 后盾 | 3h | P0 | B-003 | WebSocket连接管理+消息路由 |
| **F-003** | 房间页面基础UI开发 | 🎨 阿码 | 4h | P0 | F-002 | 房间页面布局+成员列表+邀请链接 |
| **B-005** | 播放状态管理服务 | 🛡️ 后盾 | 4h | P0 | B-003 | 播放/暂停/进度同步逻辑 |
| **F-004** | 视频播放器组件开发 | 🎨 阿码 | 4h | P0 | F-003 | HTML5播放器集成+控制按钮 |
| **B-006** | 实时同步引擎开发 | 🛡️ 后盾 | 4h | P0 | B-004,B-005 | 播放状态实时广播+同步机制 |
| **F-005** | WebSocket客户端集成 | 🎨 阿码 | 3h | P0 | B-004 | 前端WebSocket连接+消息处理 |
| **B-007** | 直链解析和验证功能 | 🛡️ 后盾 | 3h | P0 | B-003 | .mp4/.m3u8链接验证+错误处理 |
| **F-006** | URL输入和加载功能 | 🎨 阿码 | 3h | P0 | F-004,B-007 | 视频URL输入框+加载按钮+错误提示 |
| **F-007** | 成员状态显示和权限控制 | 🎨 阿码 | 3h | P0 | F-005 | 成员列表+角色标识+权限验证 |
| **B-008** | 房间自动清理机制 | 🛡️ 后盾 | 2h | P1 | B-003 | 无人10分钟后房间销毁+清理任务 |
| **F-008** | 预设演示片源集成 | 🎨 阿码 | 2h | P1 | F-006 | 5个内置测试链接+一键加载 |
| **F-009** | 移动端适配优化 | 🎨 阿码 | 4h | P1 | F-003 | 响应式布局+触摸优化+移动端测试 |
| **I-001** | Docker容器化配置 | 🛠️ 稳当 | 2h | P0 | F-001 | Docker Compose配置+容器测试通过 |
| **I-002** | 性能监控和日志系统 | 🛠️ 稳当 | 3h | P1 | B-006 | 基础性能指标+结构化日志 |
| **I-003** | CI/CD流水线搭建 | 🛠️ 稳当 | 3h | P1 | I-001 | GitHub Actions/GitLab CI配置 |
| **F-010** | 新手引导和用户体验优化 | 🎨 阿码 | 3h | P2 | F-007 | 首次使用引导+操作提示 |
| **B-010** | 错误处理和边界情况处理 | 🛡️ 后盾 | 3h | P0 | B-006 | 异常捕获+错误码体系+用户友好提示 |

---

## 👥 角色任务分配看板

### 🏗️ **老架 (架构工程师)** - **总计: 4h**
- **F-001**: 项目初始化和基础架构搭建 (4h)

### 🛠️ **稳当 (基础设施工程师)** - **总计: 8h**
- **I-001**: Docker容器化配置 (2h)
- **I-002**: 性能监控和日志系统 (3h)
- **I-003**: CI/CD流水线搭建 (3h)

### 🛡️ **后盾 (后端工程师)** - **总计: 36h**
- **B-001**: 数据库设计实现 (3h)
- **B-002**: 用户会话管理 (3h) 
- **B-003**: 房间管理核心API (4h)
- **B-004**: WebSocket Hub框架 (3h)
- **B-005**: 播放状态管理 (4h)
- **B-006**: 实时同步引擎 (4h)
- **B-007**: 直链解析验证 (3h)
- **B-008**: 房间自动清理 (2h)
- **B-010**: 错误处理系统 (3h)

### 🎨 **阿码 (前端工程师)** - **总计: 33h**
- **F-002**: 首页UI开发 (3h)
- **F-003**: 房间页面UI (4h)
- **F-004**: 视频播放器组件 (4h)
- **F-005**: WebSocket客户端 (3h)
- **F-006**: URL输入功能 (3h)
- **F-007**: 成员状态显示 (3h)
- **F-008**: 演示片源集成 (2h)
- **F-009**: 移动端适配 (4h)
- **F-010**: 新手引导优化 (3h)

---

## 📅 Sprint 1 详细计划

### **Week 1 (Day 1-5) - 基础功能实现**

#### **Day 1 - 开工日 🚀**
**Morning Stand-up (09:00)**
```
👥 参会人: 稳当、后盾、优优、管家
📋 议程:
1. 确认任务分工和开发环境
2. 确认技术选型和架构细节  
3. 建立开发规范和Git流程
```

**下午任务分配:**
- **老架**: 项目初始化 (F-001) - 4h
- **后盾**: 数据库设计 (B-001) - 3h  
- **阿码**: 前端项目搭建 (F-001) - 1h (并行)
- **稳当**: Docker配置文件准备 (I-001) - 1h (并行)

#### **Day 2 - 核心架构**
- **后盾**: 用户会话管理 (B-002) - 3h
- **后盾**: 房间管理API (B-003) - 4h
- **阿码**: 首页UI开发 (F-002) - 3h

#### **Day 3 - 实时通信**
- **后盾**: WebSocket Hub (B-004) - 3h
- **阿码**: 房间页面UI (F-003) - 4h
- **稳当**: 性能监控 (I-002) - 3h

#### **Day 4 - 播放核心**
- **后盾**: 播放状态管理 (B-005) - 4h
- **阿码**: 视频播放器 (F-004) - 4h

#### **Day 5 - 同步引擎**
- **后盾**: 实时同步引擎 (B-006) - 4h
- **阿码**: WebSocket客户端 (F-005) - 3h

### **Week 2 (Day 6-10) - 功能完善**

#### **Day 6 - 媒体处理**
- **后盾**: 直链解析 (B-007) - 3h
- **阿码**: URL输入功能 (F-006) - 3h
- **阿码**: 成员状态显示 (F-007) - 3h

#### **Day 7 - 体验优化**
- **后盾**: 错误处理 (B-010) - 3h
- **阿码**: 演示片源 (F-008) - 2h
- **阿码**: 移动端适配 (F-009) - 4h

#### **Day 8-10 - 测试优化**
- **稳当**: Docker部署配置 (I-001) - 2h
- **稳当**: CI/CD流水线搭建 (I-003) - 3h
- **全员**: 端到端测试和bug修复
- **全员**: 性能优化和用户体验提升

---

## 🎯 第一天行动清单

### **Morning Stand-up (09:00)**
**议程安排:**
1. **技术环境确认** (5分钟)
   - Go 1.21+ 环境检查
   - Node.js + Vue3 环境确认
   - SQLite 版本兼容性验证

2. **项目初始化分工** (5分钟)
   - 老架: 后端项目结构 + 前端项目创建
   - 后盾: 数据库DDL + 连接配置
   - 阿码: 前端依赖安装 + 路由配置
   - 稳当: Docker配置文件准备 + 环境变量管理

3. **开发规范确定** (5分钟)
   - Git分支策略确定
   - 代码规范和提交消息格式
   - API接口文档标准

### **🔧 老架的具体任务 (Day 1)**
- [ ] Go项目目录结构初始化
- [ ] Vue3+TypeScript项目创建
- [ ] Docker配置文件编写
- [ ] 开发环境配置文档

### **🛡️ 后盾的具体任务 (Day 1)** 
- [ ] SQLite数据库DDL设计
- [ ] 数据库连接和基础模型
- [ ] 用户会话管理逻辑设计
- [ ] API接口文档初稿

### **🎨 阿码的具体任务 (Day 1)**
- [ ] 设计稿适配和组件规划
- [ ] Tailwind CSS配置
- [ ] 基础路由和页面框架
- [ ] 与后盾确认API契约

---

## ⚠️ 风险预警与依赖关系

### **关键路径分析**
```
稳当项目初始化 → 后盾数据库 → 后盾房间API → 后盾WebSocket → 优优UI集成
```

### **主要风险**
1. **WebSocket复杂度超预期** - 预留缓冲时间
2. **移动端适配工作量** - 可延后到MVP+版本  
3. **直链解析兼容性** - 准备fallback方案

### **并行开发机会**
- 稳当的Docker配置可以独立进行
- 优优的UI开发可以在API定义后并行
- 后盾的各个模块可以并行开发

---

## 📈 进度跟踪机制

### **会议安排**
- **每日站会**: 09:00 (15分钟)
- **燃尽图更新**: 每日下班前
- **风险评估**: 每周五回顾会

### **进度可视化**
- 任务看板实时更新
- 工时消耗跟踪
- 依赖关系监控

---

## 🎖️ Definition of Done (DoD)

### **代码质量标准**
✅ 代码通过Code Review  
✅ 单元测试覆盖率 > 80%  
✅ 集成测试通过  
✅ 文档更新完成  
✅ 性能指标达标  

### **功能验收标准**
✅ 用户流程端到端测试通过
✅ 移动端响应式设计适配完成
✅ 错误处理和边界情况覆盖
✅ 性能监控指标达标

---

## 🚀 下一步行动

### **即时行动 (今日)**
1. 各角色确认任务分工
2. 开发环境准备和配置
3. Git仓库初始化和分支策略

### **明日任务 (Day 2)**
- 后盾开始用户会话管理模块开发
- 优优启动首页UI设计实现
- 稳当继续完善项目基础设施

### **成功标准**
- Day 1结束: 基础项目框架运行起来
- Day 5结束: 核心功能模块基本完成
- Day 10结束: MVP版本可进行演示

---

**项目状态**: ✅ Sprint 1 计划制定完成，团队已准备就绪，随时可以开工！

**联系方式**: 管家随时待命，每日站会跟进进度，风险及时预警，确保项目顺利推进。